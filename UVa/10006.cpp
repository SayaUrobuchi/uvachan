#include<stdio.h>
#include<string.h>
int main()
{
	int a,b,c,d,e,f,g,h,i,j,k[16][6],l[6]={2,3,5,7,11,13},m[52],n[52],o[6];
	char z[16];
	for(a=0;a<6;a++)
	{
		k[0][a]=0;
		k[1][a]=0;
	}
	for(a=2;a<16;a++)
	{
		for(b=0;b<6;b++)
		{
			k[a][b]=k[a-1][b];
		}
		for(b=a,c=0;c<6;c++)
		{
			if(!(b%l[c]))
			{
				while(!(b%l[c]))
				{
					b/=l[c];
					k[a][c]++;
				}
			}
		}
	}
	scanf("%d",&h);
	for(h;h>0;h--)
	{
		scanf("%s",z);
		for(a=0;a<52;a++)
		{
			m[a]=0;
		}
		a=strlen(z);
		for(b=0;b<a;b++)
		{
			if(z[b]>90)
			{
				z[b]-=71;
				m[z[b]]++;
			}
			else
			{
				z[b]-=65;
				m[z[b]]++;
			}
		}
		for(b=0,c=0;b<52;b++)
		{
			if(m[b])
			{
				n[b]=c++;
			}
		}
		for(b=0,i=0;b<a;b++)
		{
			if(n[z[b]])
			{
				m[z[b]]--;
				for(c=0;c<6;c++)
				{
					o[c]=k[n[z[b]]][c];
				}
				for(c=0;c<52;c++)
				{
					if(m[c])
					{
						for(d=0;d<6;d++)
						{
							o[d]-=k[m[c]][d];
						}
					}
				}
				for(c=0,j=1;c<6;c++)
				{
					j*=pow(l[c],o[c]);
				}
				i+=j;
			}
		}
		printf("%d\n",i);
	}
	return 0;
}