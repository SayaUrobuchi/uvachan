#include<stdio.h>
int main()
{
	double y;
	char i,j,x;
	int a,b,c,d,e,f,g,h,k[101][2];
	while(scanf("%d",&a)==1)
	{
		if(a==0)
		{
			break;
		}
		scanf("%d",&b);
		for(c=1;c<=a;c++)
		{
			k[c][0]=0;
			k[c][1]=0;
		}
		c=a;
		c*=a-1;
		c*=b;
		c/=2;
		for(c;c>0;c--)
		{
			scanf("%d",&d);
			scanf("%c",&x);
			scanf("%c",&x);
			i=x;
			while(scanf("%c",&x)==1)
			{
				if(x==32)
				{
					break;
				}
			}
			scanf("%d",&e);
			scanf("%c",&x);
			scanf("%c",&x);
			j=x;
			while(scanf("%c",&x)==1)
			{
				if(x==10)
				{
					break;
				}
			}
			if(i!=j)
			{
				if(i=='r')
				{
					if(j=='s')
					{
						k[d][0]++;
						k[e][1]++;
					}
					else
					{
						k[d][1]++;
						k[e][0]++;
					}
				}
				else if(i=='s')
				{
					if(j=='p')
					{
						k[d][0]++;
						k[e][1]++;
					}
					else
					{
						k[d][1]++;
						k[e][0]++;
					}
				}
				else
				{
					if(j=='r')
					{
						k[d][0]++;
						k[e][1]++;
					}
					else
					{
						k[d][1]++;
						k[e][0]++;
					}
				}
			}
		}
		if(g==1)
		{
			printf("\n");
		}
		g=1;
		for(b=1;b<=a;b++)
		{
			c=k[b][0]+k[b][1];
			if(c==0)
			{
				printf("-\n");
			}
			else
			{
				y=k[b][0];
				y/=c;
				printf("%.3f\n",y);
			}
		}
	}
	return 0;
}