#include<stdio.h>
#include<string.h>
int main()
{
	int a,b,c,d,e,f,g,h,i,j,l[7]={1,5,10,50,100,500,1000},m[5]={1,10,100,1000,10000};
	char k[101];
	/*freopen("1.txt","r",stdin);*/
	while(gets(k))
	{
		a=strlen(k);
		if(!a)
		{
			printf("0\n");
			continue;
		}
		for(b=0;b<a;b++)
		{
			if(k[b]=='M')
			{
				d=6;
			}
			else if(k[b]=='D')
			{
				d=5;
			}
			else if(k[b]=='C')
			{
				d=4;
			}
			else if(k[b]=='L')
			{
				d=3;
			}
			else if(k[b]=='X')
			{
				d=2;
			}
			else if(k[b]=='V')
			{
				d=1;
			}
			else
			{
				d=0;
			}
			k[b]=d;
		}
		for(b=1,c=l[k[0]],d=1,g=0,i=0,j=4000;b<a;b++)
		{
			if(k[b]==k[b-1])
			{
				if(k[b]%2)
				{
					break;
				}
				if(d==3)
				{
					break;
				}
				d++;
				c+=l[k[b]];
			}
			else
			{
				if(d==1)
				{
					if(k[b]<k[b-1])
					{
						if(c)
						{
							if(k[b]/2==k[b-1]/2)
							{
								c+=l[k[b]];
								g=1;
							}
							else
							{
								if(c>j)
								{
									break;
								}
								for(f=0;f<5;f++)
								{
									if(m[f]>c)
									{
										break;
									}
								}
								if(i%m[f]>m[f-1]-1)
								{
									break;
								}
								i+=c;
								j=c;
								c=l[k[b]];
								g=0;
							}
						}
						else
						{
							c=l[k[b]];
						}
					}
					else
					{
						if(g)
						{
							break;
						}
						if(!c)
						{
							break;
						}
						if(k[b]-k[b-1]!=2-k[b]%2)
						{
							break;
						}
						e=l[k[b]]-l[k[b-1]];
						if(e>j)
						{
							break;
						}
						for(f=0;f<5;f++)
						{
							if(m[f]>e)
							{
								break;
							}
						}
						if(i%m[f]>m[f-1]-1)
						{
							break;
						}
						i+=e;
						j=e;
						c=0;
					}
				}
				else
				{
					if(k[b]>k[b-1])
					{
						break;
					}
					if(c>j)
					{
						break;
					}
					for(f=0;f<5;f++)
					{
						if(m[f]>c)
						{
							break;
						}
					}
					if(i%m[f]>m[f-1]-1)
					{
						break;
					}
					i+=c;
					j=c;
					c=l[k[b]];
					d=1;
					g=0;
				}
			}
		}
		if(b==a)
		{
			if(c)
			{
				if(c>j)
				{
					printf("This is not a valid number\n");
					continue;
				}
				for(f=0;f<5;f++)
				{
					if(m[f]>c)
					{
						break;
					}
				}
				if(i%m[f]>m[f-1]-1)
				{
					printf("This is not a valid number\n");
					continue;
				}
			}
			printf("%d\n",i+c);
		}
		else
		{
			printf("This is not a valid number\n");
		}
	}
	return 0;
}